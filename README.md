# Perfume Frontend

React κΈ°λ°μ ν–¥μ ν”„λ΅ νΈμ—”λ“ μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤. ν–¥μ λ©λ΅ μ΅°ν, μƒμ„Έ μ •λ³΄ ν™•μΈ, μ μ‚¬ ν–¥μ μ¶”μ² κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

## π†• μµμ‹  μ—…λ°μ΄νΈ (v2.0)

### ν–¥μ λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅° κ°μ„ 

ν–¥μ λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°κ°€ λ€ν­ κ°μ„ λμ–΄ λ” μ •ν™•ν•κ³  μƒμ„Έν• ν–¥μ μ •λ³΄λ¥Ό μ κ³µν•©λ‹λ‹¤:

#### μƒλ΅μ΄ λ…ΈνΈ κµ¬μ΅°
- **νƒ‘ λ…ΈνΈ (Top Notes)**: ν–¥μμ μ²«μΈμƒμ„ κ²°μ •ν•λ” νλ°μ„± λ†’μ€ λ…ΈνΈ
- **λ―Έλ“¤ λ…ΈνΈ (Middle Notes)**: ν–¥μμ ν•µμ‹¬μ„ μ΄λ£¨λ” μ¤‘κ°„ ν†¤ λ…ΈνΈ  
- **λ² μ΄μ¤ λ…ΈνΈ (Base Notes)**: ν–¥μμ μ§€μ†μ„±μ„ λ‹΄λ‹Ήν•λ” μ €νλ°μ„± λ…ΈνΈ
- **ν–¥ λ…ΈνΈ (Fragrance Notes)**: λ¨λ“  λ…ΈνΈμ ν†µν•© λ©λ΅

#### μ•„μ½”λ“ μ •λ³΄ μ¶”κ°€
- ν–¥μμ ν–¥ μ΅°ν•©μ„ μ‹κ°μ μΌλ΅ ν‘ν„
- κ° μ•„μ½”λ“μ λΉ„μ¨μ„ νΌμ„ΌνΈλ΅ ν‘μ‹
- μµλ€ 5κ° μ•„μ½”λ“κΉμ§€ μ§€μ›

#### λΈλλ“ ν…μ΄λΈ” κµ¬μ΅° λ³€κ²½
- `brands` β†’ `perfumes_brand` ν…μ΄λΈ”λ… λ³€κ²½
- ν–¥μ μ „μ© λΈλλ“ κ΄€λ¦¬ μ‹μ¤ν…

## κΈ°μ  μ¤νƒ

- React 19.1.0
- Material-UI (MUI) 7.2.0
- React Router DOM 6.x
- Axios 1.10.0
- Create React App

## κ°λ° ν™κ²½ μ„¤μ •

### ν•„μ μ”κµ¬μ‚¬ν•­

- Node.js 18.x μ΄μƒ
- npm λλ” yarn

### μ„¤μΉ λ° μ‹¤ν–‰

```bash
# μμ΅΄μ„± μ„¤μΉ
npm install

# κ°λ° μ„λ²„ μ‹¤ν–‰
npm start

# ν…μ¤νΈ μ‹¤ν–‰
npm test

# ν”„λ΅λ•μ… λΉλ“
npm run build
```

## λ°°ν¬

### S3 λ°°ν¬

μ΄ ν”„λ΅μ νΈλ” GitHub Actionsλ¥Ό ν†µν•΄ AWS S3μ— μλ™ λ°°ν¬λ©λ‹λ‹¤.

#### 1. S3 λ²„ν‚· μ„¤μ •

```bash
# S3 λ²„ν‚· μƒμ„± λ° μ„¤μ •
./setup-s3-deployment.sh <BUCKET_NAME> <REGION>

# μμ‹
./setup-s3-deployment.sh perfume-frontend-bucket ap-northeast-2
```

#### 2. GitHub Secrets μ„¤μ •

GitHub μ €μ¥μ†μ Settings > Secrets and variables > Actionsμ—μ„ λ‹¤μ μ‹ν¬λ¦Ώμ„ μ„¤μ •ν•μ„Έμ”:

- `AWS_ACCESS_KEY_ID`: AWS μ•΅μ„Έμ¤ ν‚¤ ID
- `AWS_SECRET_ACCESS_KEY`: AWS μ‹ν¬λ¦Ώ μ•΅μ„Έμ¤ ν‚¤
- `AWS_REGION`: AWS λ¦¬μ „ (μ: ap-northeast-2)
- `S3_BUCKET_NAME`: S3 λ²„ν‚· μ΄λ¦„

#### 3. λ°°ν¬ μ›ν¬ν”λ΅μ°

- `main` λΈλμΉμ— ν‘Έμ‹ν•λ©΄ μλ™μΌλ΅ S3μ— λ°°ν¬λ©λ‹λ‹¤

### EC2 λ°°ν¬

κΈ°μ΅΄ EC2 λ°°ν¬ μ›ν¬ν”λ΅μ°λ„ μ μ§€λ©λ‹λ‹¤:

- `deploy.yml`: EC2 μ„λ²„ λ°°ν¬
- `deploy-frontend.yml`: ν”„λ΅ νΈμ—”λ“ μ „μ© EC2 λ°°ν¬

## μ£Όμ” κΈ°λ¥

### 1. ν–¥μ λ©λ΅ νμ΄μ§€ (`/`)
- ν–¥μ λ©λ΅ μ΅°ν λ° κ²€μƒ‰
- κ³„μ /λ‚ μ”¨λ³„ ν•„ν„°λ§
- λ³΄μ  ν–¥μ λ“±λ΅ λ° κ΄€λ¦¬
- ν–¥μ λ°μ΄ν„°λ² μ΄μ¤ μ¶”κ°€

### 2. ν–¥μ μƒμ„Έ νμ΄μ§€ (`/perfumes/:id`)
- ν–¥μ μƒμ„Έ μ •λ³΄ μ΅°ν
- **μƒλ΅μ΄ λ…ΈνΈ κµ¬μ΅°**: νƒ‘/λ―Έλ“¤/λ² μ΄μ¤ λ…ΈνΈ κµ¬λ¶„ ν‘μ‹
- **μ•„μ½”λ“ μ •λ³΄**: ν–¥ μ΅°ν•©μ μ‹κ°μ  ν‘ν„
- κ³„μ /λ‚ μ”¨ νƒκ·Έ ν‘μ‹
- λ¶„μ„ μ΄μ  μ„¤λ…
- μ μ‚¬ ν–¥μ μ¶”μ² (2κ° μ΄μƒ κ³µν†µ λ…ΈνΈ)
- μƒν’ λ§ν¬ μ κ³µ

### 3. ν–¥μ λ“±λ΅/μμ • νΌ
- **μƒλ΅μ΄ λ…ΈνΈ μ…λ ¥**: νƒ‘/λ―Έλ“¤/λ² μ΄μ¤ λ…ΈνΈ λ¶„λ¦¬ μ…λ ¥
- **μ•„μ½”λ“ κµ¬μ„±**: μµλ€ 5κ° μ•„μ½”λ“ μ΄λ¦„ λ° λΉ„μ¨ μ„¤μ •
- μλ™ fragrance_notes μƒμ„±
- κ³„μ /λ‚ μ”¨ νƒκ·Έ μ„ νƒ
- λ¶„μ„ μ΄μ  μ…λ ¥

## μƒλ΅μ΄ μ»΄ν¬λ„νΈ

### NoteDisplay μ»΄ν¬λ„νΈ
ν–¥μμ λ…ΈνΈ μ •λ³΄λ¥Ό νƒ€μ…λ³„λ΅ κµ¬λ¶„ν•μ—¬ ν‘μ‹ν•©λ‹λ‹¤.

```jsx
<NoteDisplay 
  perfume={perfume} 
  showTitle={true} 
  compact={false} 
/>
```

**Props:**
- `perfume`: ν–¥μ λ°μ΄ν„° κ°μ²΄
- `showTitle`: λ…ΈνΈ νƒ€μ… μ λ© ν‘μ‹ μ—¬λ¶€
- `compact`: μ»΄ν©νΈ λ¨λ“ (μ‘μ€ ν¬κΈ°λ΅ ν‘μ‹)

### AccordDisplay μ»΄ν¬λ„νΈ
ν–¥μμ μ•„μ½”λ“ μ •λ³΄λ¥Ό μ‹κ°μ μΌλ΅ ν‘μ‹ν•©λ‹λ‹¤.

```jsx
<AccordDisplay 
  perfume={perfume} 
  showTitle={true} 
  compact={false} 
/>
```

**Props:**
- `perfume`: ν–¥μ λ°μ΄ν„° κ°μ²΄
- `showTitle`: μ•„μ½”λ“ μ λ© ν‘μ‹ μ—¬λ¶€
- `compact`: μ»΄ν©νΈ λ¨λ“

### PerfumeForm μ»΄ν¬λ„νΈ
ν–¥μ λ“±λ΅ λ° μμ •μ„ μ„ν• ν†µν•© νΌ μ»΄ν¬λ„νΈμ…λ‹λ‹¤.

```jsx
<PerfumeForm
  open={dialogOpen}
  onClose={handleClose}
  onSubmit={handleSubmit}
  perfume={editPerfume} // μμ • μ‹μ—λ§ μ „λ‹¬
  brands={brands}
  loading={loading}
  error={error}
/>
```

## ν”„λ΅μ νΈ κµ¬μ΅°

```
frontend/
β”β”€β”€ public/                 # μ •μ  νμΌ
β”β”€β”€ src/                   # μ†μ¤ μ½”λ“
β”‚   β”β”€β”€ components/        # React μ»΄ν¬λ„νΈ
β”‚   β”‚   β”β”€β”€ PerfumeDetailPage.js  # ν–¥μ μƒμ„Έ νμ΄μ§€
β”‚   β”‚   β”β”€β”€ NoteDisplay.js        # λ…ΈνΈ ν‘μ‹ μ»΄ν¬λ„νΈ
β”‚   β”‚   β”β”€β”€ AccordDisplay.js      # μ•„μ½”λ“ ν‘μ‹ μ»΄ν¬λ„νΈ
β”‚   β”‚   β””β”€β”€ PerfumeForm.js        # ν–¥μ λ“±λ΅/μμ • νΌ
β”‚   β”β”€β”€ pages/            # νμ΄μ§€ μ»΄ν¬λ„νΈ
β”‚   β”β”€β”€ services/         # API μ„λΉ„μ¤
β”‚   β””β”€β”€ utils/            # μ ν‹Έλ¦¬ν‹° ν•¨μ
β”β”€β”€ .github/workflows/    # GitHub Actions μ›ν¬ν”λ΅μ°
β”‚   β”β”€β”€ deploy-s3.yml     # S3 λ°°ν¬
β”‚   β”β”€β”€ deploy.yml        # EC2 λ°°ν¬
β”‚   β””β”€β”€ deploy-frontend.yml # ν”„λ΅ νΈμ—”λ“ μ „μ© λ°°ν¬
β””β”€β”€ setup-s3-deployment.sh # S3 λ°°ν¬ μ„¤μ • μ¤ν¬λ¦½νΈ
```

## API λ³€κ²½μ‚¬ν•­

### ν–¥μ λ©λ΅ μ΅°ν (GET /api/perfumes)
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "brand_id": 1,
      "name": "Chanel NΒ°5",
      "top_notes": ["μ•λ°ν•μ΄λ“", "λ² λ¥΄κ°€λ»"],
      "middle_notes": ["μ΄λ¦¬μ¤", "μ¬μ¤λ―Ό"],
      "base_notes": ["λ² ν‹°λ²„", "λ°”λ‹λΌ", "νμΈλ¦¬"],
      "fragrance_notes": ["μ•λ°ν•μ΄λ“", "λ² λ¥΄κ°€λ»", "μ΄λ¦¬μ¤", "μ¬μ¤λ―Ό", "λ² ν‹°λ²„", "λ°”λ‹λΌ", "νμΈλ¦¬"],
      "accord_1_name": "ν”λ΅λ΄",
      "accord_1_width": 45.50,
      "accord_2_name": "μ°λ””",
      "accord_2_width": 30.25,
      "status": 1,
      "PerfumeBrand": {
        "id": 1,
        "name": "Chanel"
      }
    }
  ]
}
```

### ν–¥μ λ“±λ΅/μμ • (POST/PUT /api/perfumes)
```json
{
  "brand_id": 1,
  "name": "μƒλ΅μ΄ ν–¥μ",
  "top_notes": ["λ² λ¥΄κ°€λ»", "ν•‘ν¬ ννΌ"],
  "middle_notes": ["λ΅μ¦", "μ¬μ¤λ―Ό"],
  "base_notes": ["λ¨Έμ¤ν¬", "λ°”λ‹λΌ"],
  "fragrance_notes": ["λ² λ¥΄κ°€λ»", "ν•‘ν¬ ννΌ", "λ΅μ¦", "μ¬μ¤λ―Ό", "λ¨Έμ¤ν¬", "λ°”λ‹λΌ"],
  "accord_1_name": "ν”λ΅λ΄",
  "accord_1_width": 40.00,
  "accord_2_name": "μ¤νμ΄μ‹",
  "accord_2_width": 25.00
}
```

### λΈλλ“ API λ³€κ²½
- κΈ°μ΅΄: `GET /api/brands`
- λ³€κ²½: `GET /api/perfumes-brands` (ν•μ„ νΈν™μ„± μ μ§€)

## ν•μ„ νΈν™μ„±

κΈ°μ΅΄ λ°μ΄ν„°μ™€μ νΈν™μ„±μ„ μ„ν•΄ λ‹¤μ κΈ°λ¥λ“¤μ΄ μ μ§€λ©λ‹λ‹¤:

1. **κΈ°μ΅΄ notes ν•„λ“ μ§€μ›**: μƒλ΅μ΄ λ…ΈνΈ κµ¬μ΅°κ°€ μ—†μΌλ©΄ κΈ°μ΅΄ notes ν•„λ“ μ‚¬μ©
2. **λΈλλ“ API ν΄λ°±**: μƒλ΅μ΄ λΈλλ“ API μ‹¤ν¨ μ‹ κΈ°μ΅΄ API μ‚¬μ©
3. **μ μ§„μ  λ§μ΄κ·Έλ μ΄μ…**: κΈ°μ΅΄ λ°μ΄ν„°λ” κ·Έλ€λ΅ μ μ§€λλ©° μƒλ΅μ΄ κµ¬μ΅°λ΅ μ μ§„μ  μ „ν™ κ°€λ¥

## κ°λ° κ°€μ΄λ“

### μ½”λ“ μ¤νƒ€μΌ

- ESLint μ„¤μ •μ„ λ”°λ¦…λ‹λ‹¤
- Prettierλ¥Ό μ‚¬μ©ν•μ—¬ μ½”λ“ ν¬λ§·ν…μ„ μ μ§€ν•©λ‹λ‹¤

### ν…μ¤νΈ

```bash
# React μ»΄ν¬λ„νΈ ν…μ¤νΈ
npm test

# ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€ ν™•μΈ
npm test -- --coverage

# νΉμ • ν…μ¤νΈ νμΌ μ‹¤ν–‰
npm test -- --testPathPattern=ComponentName

# API ν…μ¤νΈ (ν–¥μ μƒμ„Έ νμ΄μ§€ API)
npm run test:api
```

### λΉλ“ μµμ ν™”

- ν”„λ΅λ•μ… λΉλ“λ” μλ™μΌλ΅ μµμ ν™”λ©λ‹λ‹¤
- μ½”λ“ μ¤ν”λ¦¬ν…μ΄ μ μ©λ©λ‹λ‹¤
- λ²λ“¤ ν¬κΈ° λ¶„μ„: `npm run build && npx serve -s build`

## λ¬Έμ  ν•΄κ²°

### λΉλ“ μ‹¤ν¨

1. Node.js λ²„μ „ ν™•μΈ (18.x μ΄μƒ ν•„μ”)
2. `node_modules` μ‚­μ  ν›„ `npm install` μ¬μ‹¤ν–‰
3. μΊμ‹ ν΄λ¦¬μ–΄: `npm run build -- --reset-cache`

### λ°°ν¬ μ‹¤ν¨

1. GitHub Secrets μ„¤μ • ν™•μΈ
2. AWS κ¶ν• ν™•μΈ
3. S3 λ²„ν‚· μ •μ±… ν™•μΈ

### μƒλ΅μ΄ κΈ°λ¥ κ΄€λ ¨ λ¬Έμ 

1. **λ…ΈνΈκ°€ ν‘μ‹λμ§€ μ•λ” κ²½μ°**: κΈ°μ΅΄ λ°μ΄ν„°λ” `notes` ν•„λ“ μ‚¬μ©, μƒ λ°μ΄ν„°λ” `top_notes`, `middle_notes`, `base_notes` μ‚¬μ©
2. **μ•„μ½”λ“ μ •λ³΄κ°€ μ—†λ” κ²½μ°**: μ•„μ½”λ“ μ •λ³΄λ” μ„ νƒμ‚¬ν•­μ΄λ―€λ΅ ν‘μ‹λμ§€ μ•μ„ μ μμ
3. **λΈλλ“ μ •λ³΄ μ¤λ¥**: μƒλ΅μ΄ λΈλλ“ API μ—”λ“ν¬μΈνΈ ν™•μΈ

## λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” MIT λΌμ΄μ„ μ¤ ν•μ— λ°°ν¬λ©λ‹λ‹¤.
